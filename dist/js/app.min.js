(()=>{"use strict";const t=new Intl.DateTimeFormat("en-GB",{day:"numeric",month:"short",year:"numeric"}),e=e=>{const n=document.createElement("li");n.classList.add("repo");const o=t.format(new Date(e.updated_at));var r;if(n.innerHTML=`\n\t\t<h3 class="repo-creator">\n\t\t\tby <a target="_blank" href="${e.owner.html_url}">${e.owner.login}</a>\n\t\t</h3>\n\n\t\t<h2 class="repo-title">\n\t\t\t<a target="_blank" href="${e.html_url}">\n\t\t\t\t${e.name}\n\t\t\t</a>\n\t\t</h2>\n\n\t\t<div class="repo-updated">updated at: ${o}</div>\n\n\t\t${r=e.description,`\n    <p class="repo-description${r?"":" empty"}">\n\t\t\t${r||"No description available yet.."}\n\t\t</p>\n  `}\n\t`,e.topics.length){const t=document.createElement("ul");t.classList.add("repo-topics");for(let n of e.topics){const e=document.createElement("li");e.classList.add("repo-tag"),e.textContent=n,t.append(e)}n.append(t)}else n.append(document.createElement("br"));return n},n=new URL("https://api.github.com/search/repositories");n.searchParams.set("per_page",10);let o="";const r=async(t,r,a=".message",s=".spinner")=>{const c=document.querySelector(a),i=document.querySelector(s);if(t===o)return;o=t,r.innerHTML="",c.hidden=!0,i.hidden=!1;const d=await(async t=>{n.searchParams.set("q",t);const e=await fetch(n.href);return(await e.json()).items})(t);if(i.hidden=!0,0===d.length)return c.hidden=!1,void(c.textContent="No results found.. Try another search");for(let t of d)r.append(e(t))};!function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=1==t?"webp":"no-webp";document.querySelector("body").classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),document.querySelector(".switcher").onclick=()=>{let t=document.body.dataset.theme;document.body.dataset.theme="light"===t?"dark":"light"};const a=document.forms.form,s=document.querySelector(".repo-list"),c=a.elements.repo,i=document.querySelector(".search-error");a.onsubmit=t=>{t.preventDefault();const e=c.value.trim();e&&(e.length<3?i.hidden=!1:r(e,s))},c.oninput=()=>{i.hidden||(i.hidden=!0)},s.onclick=t=>{const e=t.target.closest("li.repo-tag");if(!e)return;let n=`in:topics ${e.textContent}`;c.value=n,r(n,s)}})();